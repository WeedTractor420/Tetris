<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gamestudio Tetris</title>
    <link rel="stylesheet" th:href="@{/css/success-popup.css}"/>
    <link rel="stylesheet" th:href="@{/css/logo.css}"/>
    <link rel="stylesheet" th:href="@{/css/bgAnim.css}"/>
    <link rel="stylesheet" th:href="@{/css/rippleAnim.css}"/>
    <link rel="stylesheet" th:href="@{/css/button.css}"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div th:replace="fragments/bgAnim :: bgAnimFragment"></div>
<div th:replace="fragments/logo :: logoFragment"></div>

<div class="container">
    <div th:replace="fragments/success-popup :: successMessagePopup(${message})"></div>
</div>


<script th:inline="javascript">
    document.querySelectorAll('.button').forEach(btn => {
        btn.addEventListener('click', function(e) {
            // Calculate the position of the click relative to the button
            let x = e.clientX - e.target.getBoundingClientRect().left;
            let y = e.clientY - e.target.getBoundingClientRect().top;

            let ripples = document.createElement('span');
            ripples.classList.add('ripple-container');
            ripples.style.left = x + 'px';
            ripples.style.top = y + 'px';
            this.appendChild(ripples);

            // Remove the ripple element after the animation
            setTimeout(() => {
                ripples.remove();
            }, 1000);
        });
    });

    const bgAnimation = document.getElementById('bgAnimation');

    const numberOfColorBoxes = 400;

    for (let i = 0; i < numberOfColorBoxes; i++) {
        const colorBox = document.createElement('div');
        colorBox.classList.add('colorBox');
        bgAnimation.append(colorBox)
    }
</script>
</body>
</html>
